<div class="container mt-5 bg-light p-4 rounded">
 <h2>Create Article</h2>
 <div *ngIf="alertMessage" class="alert alert-{{alertType}} alert-dismissible fade show" role="alert">
  {{ alertMessage }}
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
 </div>
 <form [formGroup]="articleForm" (ngSubmit)="onSubmit()">
  <div class="form-group mb-3">
   <label for="headline">Headline</label>
   <input type="text" class="form-control" id="headline" formControlName="headline">
  </div>
  <div class="form-group mb-3">
   <label for="title">Title</label>
   <textarea class="form-control" id="title" formControlName="title"></textarea>
  </div>
  <div class="form-group mb-3">
   <label for="content">Content</label>
   <textarea class="form-control" id="content" formControlName="content"></textarea>
  </div>
  <div class="form-group mb-3">
   <label for="isEvent">Is Event</label>
   <select class="form-control" id="isEvent" formControlName="isEvent">
    <option value="no">No</option>
    <option value="yes">Yes</option>
   </select>
  </div>
  <div class="form-group mb-3">
   <label for="youTubeLink">YouTube Link</label>
   <input type="text" class="form-control" id="youTubeLink" formControlName="youTubeLink" (input)="onYouTubeLinkChange()">
   <div *ngIf="youTubeThumbnail" class="mt-3">
    <img [src]="youTubeThumbnail" alt="YouTube Thumbnail" class="img-thumbnail">
   </div>
  </div>
  <div class="form-group mb-3">
   <label for="facebookLink">Facebook Link</label>
   <input type="text" class="form-control" id="facebookLink" formControlName="facebookLink">
  </div>
  <div class="form-group mb-3">
   <label for="images">Images</label>
   <input type="file" class="form-control" id="images" (change)="onFileChange($event, 'images')" multiple>
   <div class="preview-container mt-3">
    <div class="image-preview" *ngFor="let img of imagePreviews; let i = index">
     <img [src]="img.url" class="img-thumbnail" alt="Image Preview">
     <button type="button" class="btn btn-danger btn-sm" (click)="removeFile(i, 'images')">
      <i class="bi bi-x-circle"></i>
     </button>
    </div>
   </div>
  </div>
  <div class="form-group mb-3">
   <label for="videos">Videos</label>
   <input type="file" class="form-control" id="videos" (change)="onFileChange($event, 'videos')" multiple>
   <div class="preview-container mt-3">
    <div class="video-preview" *ngFor="let video of videoPreviews; let i = index">
     <video [src]="video.url" controls class="video-thumbnail"></video>
     <button type="button" class="btn btn-danger btn-sm" (click)="removeFile(i, 'videos')">
      <i class="bi bi-x-circle"></i>
     </button>
    </div>
   </div>
  </div>
  <div class="form-group mb-3">
   <label for="tags">Tags</label>
   <div class="d-flex flex-wrap align-items-center">
    <input type="text" class="form-control me-2" id="tags" placeholder="Enter tags separated by commas" (change)="onTagsInput($event)">
    <div *ngFor="let tag of tags" class="form-check form-check-inline">
     <input type="checkbox" class="form-check-input" [id]="tag.id" [value]="tag.id" (change)="onTagSelect(tag, $event)" [checked]="selectedTags.includes(tag)">
     <label class="form-check-label" [for]="tag.id">{{ tag.name }}</label>
    </div>
   </div>
  </div>
  <div class="form-group mb-3">
   <label>Selected Tags</label>
   <div class="d-flex flex-wrap">
    <span *ngFor="let tag of selectedTags" class="badge bg-primary me-2 mb-2">
     {{ tag.name }}
     <button type="button" class="btn-close btn-close-white btn-sm ms-1" (click)="removeTag(tag, false)"></button>
    </span>
    <span *ngFor="let tag of userDefinedTags" class="badge bg-secondary me-2 mb-2">
     {{ tag }}
     <button type="button" class="btn-close btn-close-white btn-sm ms-1" (click)="removeTag(tag, true)"></button>
    </span>
   </div>
  </div>
  <button type="submit" class="btn btn-primary mt-3">Create</button>
 </form>
</div>